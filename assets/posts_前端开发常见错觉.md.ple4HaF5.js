import{_ as p,C as e,c as h,o as k,j as i,G as t,a4 as l,a}from"./chunks/framework.BicIBzvP.js";const u=JSON.parse('{"title":"前端工作中的经验与教训","description":"","frontmatter":{"title":"前端工作中的经验与教训","tags":["前端","Vue","JavaScript","双向绑定"],"date":"2025-03-18T00:00:00.000Z"},"headers":[],"relativePath":"posts/前端开发常见错觉.md","filePath":"posts/前端开发常见错觉.md","lastUpdated":1756559909000}'),r={name:"posts/前端开发常见错觉.md"};function d(B,s,A,o,g,c){const n=e("ImageBuilder");return k(),h("div",null,[s[0]||(s[0]=i("h2",{id:"关于表单元素-input-上的-v-model-绑定",tabindex:"-1"},[a("关于表单元素 input 上的 v-model 绑定 "),i("a",{class:"header-anchor",href:"#关于表单元素-input-上的-v-model-绑定","aria-label":'Permalink to "关于表单元素 input 上的 v-model 绑定"'},"​")],-1)),s[1]||(s[1]=i("p",null,[a("一直以来我都有个错觉，认为在 input 等输入类型的表单元素上，v-model 指令绑定的是 "),i("code",null,"value"),a(" 属性和 "),i("code",null,"change"),a(" 事件，直到后来自己封装某个自定义指令的时候（需要手动触发一下双向绑定），使用 dispatch 分发 "),i("code",null,"change"),a(" 事件并没有触发绑定值的更新，遂去翻看文档，发现了以下内容。")],-1)),t(n,{source:["错觉_v-model.jpg"],size:"large"}),s[2]||(s[2]=l('<p>看来有些事情还是不能想当然，多看文档总是对的。。。</p><blockquote><p>总结： 官方文档中，input 元素上的 v-model 绑定的是 <code>value</code> 属性和 <code>input</code> 事件。</p></blockquote><h2 id="axios-提交-date-类型数据时的时区自动变更问题" tabindex="-1">Axios 提交 Date 类型数据时的时区自动变更问题 <a class="header-anchor" href="#axios-提交-date-类型数据时的时区自动变更问题" aria-label="Permalink to &quot;Axios 提交 Date 类型数据时的时区自动变更问题&quot;">​</a></h2><h3 id="问题描述" tabindex="-1">问题描述 <a class="header-anchor" href="#问题描述" aria-label="Permalink to &quot;问题描述&quot;">​</a></h3><p>在使用 <code>Axios</code> 提交 Date 类型的数据时，发现请求体中的时间总是与代码中的时间不一致，这使我非常困惑。这个问题是在某次改项目中的 bug 时发现的，排查了很久。</p><h3 id="根本原因" tabindex="-1">根本原因 <a class="header-anchor" href="#根本原因" aria-label="Permalink to &quot;根本原因&quot;">​</a></h3><p><code>Axios</code> 对于提交的 Date 类型的数据，会将其序列化为时间字符串。 这里涉及到 <code>JavaScript</code> 语言在序列化 Date 对象时的默认行为：</p><p><strong><code>JavaScript</code> 语言在序列化 Date 对象时（如通过 <code>JSON.stringify</code>），会调用 <code>Date.prototype.toISOString()</code> 方法，将日期转换为 ISO 8601 格式（如 2025-05-04T01:00:00.000Z）</strong>。其中的 Z 表示 UTC 时间（0 时区），而本地时间（如东八区）会被自动转换为 UTC 时间（减去 8 小时）。如图：</p>',8)),t(n,{source:["Snipaste_Date序列化的问题.png"],size:"large"}),s[3]||(s[3]=l(`<blockquote><p>为什么要这样做？JavaScript 语言这样做的合理性： Date 对象的 ISO 序列化是为了标准化时间表示，便于跨系统传输。UTC 时间是国际通用标准，因此 JavaScript 的行为是合理的。</p></blockquote><h3 id="解决方案" tabindex="-1">解决方案 <a class="header-anchor" href="#解决方案" aria-label="Permalink to &quot;解决方案&quot;">​</a></h3><ol><li><strong>不要直接提交 Date 类型的数据</strong>，而是将 Date 对象转换为本地时间字符串，然后再提交。</li><li>后端进行时区处理</li></ol><h2 id="关于使用-css-order-属性在不改变-dom-结构的情况下改变元素的显示顺序" tabindex="-1">关于使用 CSS order 属性在不改变 dom 结构的情况下改变元素的显示顺序 <a class="header-anchor" href="#关于使用-css-order-属性在不改变-dom-结构的情况下改变元素的显示顺序" aria-label="Permalink to &quot;关于使用 CSS order 属性在不改变 dom 结构的情况下改变元素的显示顺序&quot;">​</a></h2><p>是这样的，最近我在维护一个项目的时候遇到这样一个需求，<code>页面上有一个元素，它的内部有两个子元素，它们的dom结构从上到下是 A -&gt; B，现在我希望让 B 显示在父盒子的左侧， A 显示在右侧，并且 A 的宽度是父盒子的宽度减去B的宽度（也就是 A 要自适应剩余的宽度）</code>。</p><p>这种情况下使用 flex 布局 + order 属性 正好可以解决这个问题。</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes one-dark-pro one-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&lt;!</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">DOCTYPE</span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;"> html</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">html</span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;"> lang</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;en&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">	&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">head</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">		&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">meta</span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;"> charset</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;UTF-8&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;"> /&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">		&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">meta</span></span>
<span class="line"><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">			name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;viewport&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">			content</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;width=device-width, initial-scale=1.0&quot;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">		/&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">		&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">title</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;Document&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">title</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">		&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">style</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">			.container</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;"> {</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">				display: </span><span style="--shiki-dark:#D19A66;--shiki-light:#383A42;">flex</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">				width: </span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">300</span><span style="--shiki-dark:#E06C75;--shiki-light:#986801;">px</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">				color: </span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">#</span><span style="--shiki-dark:#D19A66;--shiki-light:#0184BC;">fff</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">			}</span></span>
<span class="line"><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">			.item1</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;"> {</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">				order: </span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">2</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">				flex: </span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">1</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">				background-color: </span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">blue</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">			}</span></span>
<span class="line"><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">			.item2</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;"> {</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">				order: </span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">1</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">				width: </span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">50</span><span style="--shiki-dark:#E06C75;--shiki-light:#986801;">px</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">				background-color: </span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;">red</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">			}</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">		&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">style</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">	&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">head</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">	&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">body</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">		&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">div</span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;"> class</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;container&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">			&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">div</span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;"> class</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;item1&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;item1&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">div</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">			&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">div</span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;"> class</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&quot;item2&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;item2&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">div</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">		&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">div</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">	&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">body</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#E45649;">html</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div>`,7)),t(n,{source:["order属性.png"],size:"large"}),s[4]||(s[4]=i("p",null,[a("🔗"),i("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/order",target:"_blank",rel:"noreferrer"},"查看 mdn 关于 order 属性的描述")],-1))])}const b=p(r,[["render",d]]);export{u as __pageData,b as default};
